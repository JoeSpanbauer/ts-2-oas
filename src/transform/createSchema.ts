// TODO: Make this not recursive
